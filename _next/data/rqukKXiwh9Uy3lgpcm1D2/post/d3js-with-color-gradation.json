{"pageProps":{"postContent":{"title":"D3.jsとカラーグラデーション","date":"2019-02-08T21:12:00-08:00","slug":"d3js-with-color-gradation","tags":["JavaScript","d3.js"],"draft":false,"content":"<p>まずはこちらをご覧下さい。</p>\n<p class=\"codepen\" data-height=\"450\" data-theme-id=\"light\" data-default-tab=\"result\" data-user=\"chooblarin\" data-slug-hash=\"wNyWLJ\" style=\"height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid black; margin: 1em 0; padding: 1em;\" data-pen-title=\"D3.js Bar Chart Example (IMdb data in 2018)\">\n  <span>See the Pen <a href=\"https://codepen.io/chooblarin/pen/wNyWLJ/\">\n  D3.js Bar Chart Example (IMdb data in 2018)</a> by Sota Hatakeyama (<a href=\"https://codepen.io/chooblarin\">@chooblarin</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.</span>\n</p>\n<p>このチャートは<a href=\"https://www.imdb.com/list/ls021348496/\">IMDb の 2018 映画ランキング</a> の投票数です。</p>\n<br>\n<p>SVG では<code>linearGradient</code> 要素を使って図形をグラデーションで塗ることができます。</p>\n<p class=\"codepen\" data-height=\"380\" data-theme-id=\"light\" data-default-tab=\"html,result\" data-user=\"chooblarin\" data-slug-hash=\"2e8a7135e0b873242e2240579ddc12af\" style=\"height: 373px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid black; margin: 1em 0; padding: 1em;\" data-pen-title=\"SVG Gradient Triangle\">\n  <span>See the Pen <a href=\"https://codepen.io/chooblarin/pen/2e8a7135e0b873242e2240579ddc12af/\">\n  SVG Gradient Triangle</a> by Sota Hatakeyama (<a href=\"https://codepen.io/chooblarin\">@chooblarin</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.</span>\n</p>\n<br>\n<p>定義したグラデーションカラーを <code>fill</code> に指定するだけ。</p>\n<pre><code class=\"hljs language-svg\"><span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">path</span> <span class=\"hljs-attr\">...</span> <span class=\"hljs-attr\">fill</span>=<span class=\"hljs-string\">\"url('#gradient')\"</span> /></span></code></pre>\n<br>\n<p>先ほどの棒グラフの <code>rect</code> をこれと同様に塗りつぶすと…</p>\n<br>\n<p class=\"codepen\" data-height=\"450\" data-theme-id=\"light\" data-default-tab=\"result\" data-user=\"chooblarin\" data-slug-hash=\"MLQGEz\" style=\"height: 450px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid black; margin: 1em 0; padding: 1em;\" data-pen-title=\" D3.js Bar Chart with Gradient #1  (IMdb data in 2018)\">\n  <span>See the Pen <a href=\"https://codepen.io/chooblarin/pen/MLQGEz/\">\n   D3.js Bar Chart with Gradient #1  (IMdb data in 2018)</a> by Sota Hatakeyama (<a href=\"https://codepen.io/chooblarin\">@chooblarin</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.</span>\n</p>\n<p>これはこれで悪く無いですが，投票数の大小とカラーグラデーションとを対応づけたくなります。</p>\n<p class=\"codepen\" data-height=\"450\" data-theme-id=\"light\" data-default-tab=\"result\" data-user=\"chooblarin\" data-slug-hash=\"omEeOY\" style=\"height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid black; margin: 1em 0; padding: 1em;\" data-pen-title=\" D3.js Bar Chart with Gradient #2  (IMdb data in 2018)\">\n  <span>See the Pen <a href=\"https://codepen.io/chooblarin/pen/omEeOY/\">\n   D3.js Bar Chart with Gradient #2  (IMdb data in 2018)</a> by Sota Hatakeyama (<a href=\"https://codepen.io/chooblarin\">@chooblarin</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.</span>\n</p>\n<p>これは，グラフの背景にグラデーションカラーの <code>rect</code> の上に，<a href=\"https://developer.mozilla.org/en-US/docs/Web/SVG/Element/clipPath\"><code>&#x3C;clipPath></code></a> を使ってグラフを描画しています。</p>\n<p>この方法は棒グラフのみでなく，時系列グラフなどにも利用できます。</p>\n<p class=\"codepen\" data-height=\"320\" data-theme-id=\"light\" data-default-tab=\"result\" data-user=\"chooblarin\" data-slug-hash=\"pGaVqq\" style=\"height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid black; margin: 1em 0; padding: 1em;\" data-pen-title=\"D3.js Time Series Chart with Gradient Color\">\n  <span>See the Pen <a href=\"https://codepen.io/chooblarin/pen/pGaVqq/\">\n  D3.js Time Series Chart with Gradient Color</a> by Sota Hatakeyama (<a href=\"https://codepen.io/chooblarin\">@chooblarin</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.</span>\n</p>\n<p>以上，カラーグラデーションを効果的に使った美しいチャートを描く方法を紹介しました。</p>\n<hr>\n<p>おまけ。<code>d3-interpolate</code> を使うと以下のようなグラフも簡単に描くことが出来ます。</p>\n<p class=\"codepen\" data-height=\"400\" data-theme-id=\"light\" data-default-tab=\"result\" data-user=\"chooblarin\" data-slug-hash=\"VgQmOG\" style=\"height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid black; margin: 1em 0; padding: 1em;\" data-pen-title=\" D3.js Bar Chart with Gradient #3  (IMdb data in 2018)\">\n  <span>See the Pen <a href=\"https://codepen.io/chooblarin/pen/VgQmOG/\">\n   D3.js Bar Chart with Gradient #3  (IMdb data in 2018)</a> by Sota Hatakeyama (<a href=\"https://codepen.io/chooblarin\">@chooblarin</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.</span>\n</p>\n"}},"__N_SSG":true}